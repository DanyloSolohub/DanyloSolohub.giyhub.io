(this.webpackJsonptest_task_front_only=this.webpackJsonptest_task_front_only||[]).push([[0],{14:function(t,e,a){},15:function(t,e,a){},16:function(t,e,a){},18:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),o=a(9),c=a.n(o),r=(a(14),a(2)),i=a(3),l=a(5),d=a(4),u=(a(15),a(7)),h=(a(8),a(16),a(0));function j(t){var e=t.active,a=t.setActive,n=t.item;return Object(h.jsx)("div",{className:e?"modal active":"modal",onClick:function(){return a(!1)},children:Object(h.jsx)("div",{className:e?"modalContent active":"modalContent",onClick:function(t){return t.stopPropagation()},children:Object(h.jsx)("img",{src:n,alt:"source img"})})})}var b=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))).state={showModal:!1},t.setModal=function(e){t.setState({showModal:e})},t}return Object(i.a)(a,[{key:"render",value:function(){var t=this,e=this.props.data;return Object(h.jsxs)("div",{className:"d-flex",style:{justifyContent:"center"},children:[Object(h.jsxs)("div",{className:"card",style:{width:"18rem"},children:[Object(h.jsx)("img",{src:e.img_src,className:"card-img-top",style:{minHeight:"55%"},alt:"photo from rover"}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("h5",{className:"card-title",children:["Date: ",e.earth_date]}),Object(h.jsxs)("p",{className:"card-text",children:["Rover: ",e.rover.name," ",Object(h.jsx)("br",{}),"Camera: ",e.camera.name,Object(h.jsx)("br",{}),"sol= ",e.sol]}),Object(h.jsx)("button",{onClick:function(){return t.setState({showModal:!0})},className:"btn btn-outline-secondary",children:"Open image"})]})]}),Object(h.jsx)(j,{active:this.state.showModal,setActive:this.setModal,item:e.img_src})]})}}]),a}(n.Component),p=function(){function t(){Object(r.a)(this,t),this.url="https://api.nasa.gov/mars-photos/api/v1/rovers/",this.api_key="&api_key=wlCOc6KyvNpcnolScX392qzjrITeVdOSLQHcK05c"}return Object(i.a)(t,[{key:"getAllPhotos",value:function(t,e,a,n){return fetch("".concat(this.url).concat(t,"/photos?").concat(e?"sol=".concat(e):"sol=1000").concat(a?"&camera=".concat(a):"").concat(n?"&page=".concat(n):"").concat(this.api_key)).then((function(t){return t.json()})).then((function(t){return t}))}}]),t}(),m=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))).PhotoService=new p,t.rovers_cameras={Curiosity:["FHAZ","RHAZ","MAST","CHEMCAM","MAHLI","MARDI","NAVCAM"],Opportunity:["FHAZ","RHAZ","NAVCAM","PANCAM","MINITES"],Spirit:["FHAZ","RHAZ","NAVCAM","PANCAM","MINITES"]},t.state={rover:"",camera:"",cameras:[],sol:1e3,loaded:6,page:1,response:[],loadStatus:!1},t.updateState=function(e){if(e)for(var a in t.rovers_cameras)e===a&&t.setState({cameras:t.rovers_cameras[a]})},t.loadMore=function(){t.state.response.length<t.state.loaded&&25<=t.state.loaded?(t.setState({page:t.state.page+1}),t.PhotoService.getAllPhotos(t.state.rover,t.state.sol,t.state.camera,t.state.page+1).then((function(e){t.setState({response:[].concat(Object(u.a)(t.state.response),Object(u.a)(e.photos))})}))):t.setState({loaded:t.state.loaded+6}),t.state.loaded>t.state.response.length&&t.state.loaded<25?t.setState({loadStatus:!0}):t.setState({loadStatus:!1})},t.fetchPhoto=function(){t.setState({response:[],page:1,loaded:6,loadStatus:!1}),t.PhotoService.getAllPhotos(t.state.rover,t.state.sol,t.state.camera,1).then((function(e){t.setState({response:e.photos})}))},t}return Object(i.a)(a,[{key:"handleSubmit",value:function(t){t.preventDefault()}},{key:"render",value:function(){var t=this,e=this.state,a=e.rover,n=e.cameras,s=e.response,o=e.loaded,c=e.loadStatus;return Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("nav",{className:"navbar bg-nav",children:Object(h.jsx)("div",{className:"container-fluid",style:{justifyContent:"center"},children:Object(h.jsx)("span",{className:"navbar-brand mb-0 h1 txt-logo-color",children:"NASA`s expeditions to Mars"})})}),Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(h.jsx)("div",{children:Object(h.jsx)("span",{style:{fontWeight:"bold"},className:"navbar-brand txt-logo-color",children:"Select Rover to view photos:"})}),Object(h.jsx)("div",{style:{width:"100%",margin:"5px"},children:Object(h.jsxs)("form",{onSubmit:this.handleSubmit,style:{display:"flex",flexDirection:"row",width:"100%"},children:[Object(h.jsxs)("select",{style:{marginLeft:"5px"},name:"Rover",className:"form-control",onChange:function(e){t.setState({rover:e.target.value}),t.updateState(e.target.value)},children:[Object(h.jsx)("option",{value:"",children:"Select Rover"}),Object(h.jsx)("option",{value:"Curiosity",children:"Curiosity"}),Object(h.jsx)("option",{value:"Opportunity",children:"Opportunity"}),Object(h.jsx)("option",{value:"Spirit",children:"Spirit"})]}),Object(h.jsxs)("select",{style:{marginLeft:"5px"},name:"Camera",className:"form-control",onChange:function(e){t.setState({camera:e.target.value})},children:[Object(h.jsx)("option",{value:"",children:"All available cameras"}),n.map((function(t,e){return Object(h.jsxs)("option",{value:t,children:[t," "]},e)}))]}),Object(h.jsx)("input",{onChange:function(e){var a=e.target.value;return t.setState({sol:a})},placeholder:"Sol (Martian day)(!<=1000!)",style:{marginLeft:"5px"},className:"form-control",type:"number"}),Object(h.jsx)("button",{onClick:this.fetchPhoto,disabled:!a,style:{marginLeft:"5px"},className:"btn btn-danger",children:"Submit"})]})})]}),Object(h.jsxs)("div",{className:"photo-wrapper",children:[Object(h.jsx)("div",{className:"all-photos",children:s.slice(0,o).map((function(e,a){return Object(h.jsx)(b,{data:e,setPage:t.setPage},a)}))}),!!s.length&&Object(h.jsx)("button",{className:"btn btn-custom",disabled:c,onClick:this.loadMore,children:c?"There is nothing further":"Load more\u2026"})]})]})}}]),a}(n.Component),v=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(r.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"main_div",children:Object(h.jsx)(m,{})})}}]),a}(n.Component),f=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,19)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,o=e.getLCP,c=e.getTTFB;a(t),n(t),s(t),o(t),c(t)}))};c.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root")),f()},8:function(t,e,a){}},[[18,1,2]]]);
//# sourceMappingURL=main.ae85c60c.chunk.js.map